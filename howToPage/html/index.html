<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="how_wrap">
        <header class="how_header_wrap">
            <div class="how_header_nav">
                <p>써브웨이 이용방법</p>
                <p>·
                </p>
                <p>단체메뉴 이용방법</p>
                <p>·
                </p>
                <p onclick="window.location.href = '../../ingridientIntro/html/index.html'">신선한 재료 소개</p>
                <p>·
                </p>
                <p>APP 이용방법</p>
            </div>
        </header>
        <div class="how_main_title_wrap">
            <p class="how_main_title_text">써브웨이 이용방법</p>
        </div>
        <div class="how_body_nav">
            <div class="how_body_nav_left">
                <p>매장에서 주문하기</p>
            </div>
            <div class="how_body_nav_right">
                <p>주문 TIP</p>
            </div>
        </div>
        <div class="how_body_wrap">
            <div class="how_step_icon_section">
                <ul class="how_step_icon_list">
                    <li class="icon_box">
                        <div class="step">
                            step<br>
                            <strong style="font-size: 25px; font-weight: 1000;">1</strong>
                        </div>
                    </li>
                    <li><img src="../image/icon_step_dot.png" class="bar_img"></li>
                    <li class="icon_box">
                        <div class="step">
                            step<br>
                            <strong style="font-size: 25px; font-weight: 1000;">2</strong>
                        </div>
                    </li>
                    <li><img src="../image/icon_step_dot.png" class="bar_img"></li>
                    <li class="icon_box">
                        <div class="step">
                            step<br>
                            <strong style="font-size: 25px; font-weight: 1000;">3</strong>
                        </div>
                    </li>
                    <li><img src="../image/icon_step_dot.png" class="bar_img"></li>
                    <li class="icon_box">
                        <div class="step">
                            step<br>
                            <strong style="font-size: 25px; font-weight: 1000;">4</strong>
                        </div>
                    </li>
                    <li><img src="../image/icon_step_dot.png" class="bar_img"></li>
                    <li class="icon_box">
                        <div class="step">
                            step<br>
                            <strong style="font-size: 25px; font-weight: 1000;">5</strong>
                        </div>
                    </li class="icon_box">
                </ul>
            </div>
            <div class="how_img_slide_section">

                <div class="how_img_slide_wrap">
                    <ul class="how_img_slider">
                        <li><img src="../image/slideImg/img_store_order01.png"></li>
                        <li><img src="../image/slideImg/img_store_order02.png"></li>
                        <li><img src="../image/slideImg/img_store_order03.png"></li>
                        <li><img src="../image/slideImg/img_store_order04.png"></li>
                        <li><img src="../image/slideImg/img_store_order05.png"></li>
                    </ul>
                </div>
                <div class="slider_button">
                    <div class="prev_button"><span style="margin-bottom: 8px;">&lt;</span></div>
                    <div class="next_button"><span style="margin-bottom: 8px;">&gt;</span></div>
                </div>
                <div class="how_description_wrap">
                    <div class="how_description">
                        <!-- <p class="description_step style="margin: 0; margin-left: 50px;">STEP 1</p>
                        <p class="description_title" style="margin: 0; margin-left: 50px;">메뉴 선택</p>
                        <p class="description_bar" style="margin: 0;margin-top: 20px; margin-left: 50px;"></p>
                        <p class="description_info" style="margin: 0; margin-top: 20px; margin-left: 50px;">메뉴를 고르세요<br>
                        샌드위치(15cm 또는 30cm)와<br>
                        샐러드 중 선택 가능합니다.</p> -->
                    </div>
                    <img src="../image/slideImg/icon_step_arr.png" class="how_description_arr">
                </div>
            </div>
            <div class="how_slide_intro_section"></div>
        </div>


    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slider = document.querySelector('.how_img_slider');
            const slides = document.querySelectorAll('.how_img_slider li');
            const nextBtn = document.querySelector('.next_button');
            const prevBtn = document.querySelector('.prev_button');
            const stepIcons = document.querySelectorAll('.icon_box');

            let currentIndex = 0;
            const slideCount = slides.length;
            let autoSlideInterval;

            const descriptionList = [
                {
                    step: "STEP 1",
                    title: "메뉴 선택",
                    descriptionBar: "",
                    description: "메뉴를 고르세요<br>샌드위치(15cm 또는 30cm)와<br>샐러드 중 선택 가능합니다.",
                    button1:"샌드위치 메뉴",
                    button2: "샐러드 메뉴"
                },
                {
                    step: "STEP 2",
                    title: "빵 선택",
                    descriptionBar: "",
                    description: "매장에서 직접 구운 6가지 종류중<br>고객님이 원하는 빵으로<br>추가 비용 없이 선택 가능합니다",
                    button1: "빵 종류",
                    button2: ""
                },
                {
                    step: "STEP 3",
                    title: "추가토핑 선택",
                    descriptionBar: "",
                    description: "나만의 메뉴를 더욱 풍성하게 즐기세요",
                    button1: "추가토핑 메뉴",
                    button2: ""
                },
                {
                    step: "STEP 4",
                    title: "야채&소스 선택",
                    descriptionBar: "",
                    description: "나만의 스타일을 완성하는 단계!<br>원하지 않는 야채는 빼고 좋아하는 야채는 더하세요.<br>오늘의 기분에 맞는 소스를 선택해주세요",
                    button1: "야채 종류",
                    button2: "소스 종류"
                },
                {
                    step: "STEP 5",
                    title: "세트 선택",
                    descriptionBar: "",
                    description: "세트로 구매하시면 <br>할인혜택을 받으실 수 있습니다.<br> 세트로 더욱 든든하고 알차게 즐기세요.",
                    button1: "스마일 썹",
                    button2: ""
                }
            ];

            function updateSteps(index) {
                stepIcons.forEach((icon, i) => {
                    if (i === index) {
                        icon.classList.add('active');
                    } else {
                        icon.classList.remove('active');
                    }
                });
            }

            function moveSlide(index) {
                if (index < 0) {
                    index = slideCount - 1;
                } else if (index >= slideCount) {
                    index = 0;
                }

                const slideWidth = slides[0].offsetWidth;
                slider.style.transition = 'left 0.5s ease-out';
                slider.style.left = `-${slideWidth * index}px`;
                currentIndex = index;
                updateSteps(currentIndex);
            }

            function startAutoSlide() {
                autoSlideInterval = setInterval(() => {
                    moveSlide(currentIndex + 1);
                }, 4000);
            }

            function stopAutoSlide() {
                clearInterval(autoSlideInterval);
            }




            prevBtn.addEventListener('click', () => {
                moveSlide(currentIndex - 1);
                renderDescription();
            });

            nextBtn.addEventListener('click', () => {
                moveSlide(currentIndex + 1);
                renderDescription();
            });


            stepIcons.forEach((icon, index) => {
                icon.addEventListener('click', () => {
                    moveSlide(index);
                });
            });

            function renderDescription() {
                let howDes = document.querySelector('.how_description');
                howDes.innerHTML = '';

                const des = document.createElement('div');
                const bread = descriptionList;
                des.innerHTML = `<p class="description_step" style="margin: 0; margin-left: 50px; margin-top: 40px;">${bread[currentIndex].step}</p>
                        <p class="description_title" style="margin: 0; margin-left: 50px;">${bread[currentIndex].title}</p>
                        <p class="description_bar" style="margin: 0;margin-top: 20px; margin-left: 50px;"></p>
                        <p class="description_info" style="margin: 0; margin-top: 20px; margin-left: 50px;">${bread[currentIndex].description}</p>
                        <div class="additional_button">${bread[currentIndex].button1}</div>
                        `;
                howDes.appendChild(des);
                


            }
            window.onload = renderDescription();




            const slideSection = document.querySelector('.how_img_slide_section');
            slideSection.addEventListener('mouseenter', stopAutoSlide);
            slideSection.addEventListener('mouseleave', startAutoSlide);


            updateSteps(0);
            startAutoSlide();


            window.addEventListener('resize', () => {
                moveSlide(currentIndex);
            });
        });

        
        
    </script>
</body>

</html>